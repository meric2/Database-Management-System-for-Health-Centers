CREATE SCHEMA HEALTHCENTER_SYSTEM;

CREATE TABLE HEALTHCENTER_SYSTEM.HEALTHCENTER
(
	CenterID  INT  NOT NULL ,
	C_Address  VARCHAR(60) ,
	C_name VARCHAR(60) ,
	PRIMARY KEY (CenterID)
);


CREATE TABLE HEALTHCENTER_SYSTEM.DOCTOR
(
	DocSsn  CHAR(11)  NOT NULL ,
	DocFname  VARCHAR(20) ,
	DocLname  VARCHAR(20) ,
	CenterID  INT  NOT NULL ,
	Sex CHAR(1) ,
	PRIMARY KEY (DocSsn) ,
	FOREIGN KEY (CenterID) REFERENCES HEALTHCENTER_SYSTEM.HEALTHCENTER(CenterID)
);


CREATE TABLE HEALTHCENTER_SYSTEM.PATIENT
(
	Ssn  CHAR(11)  NOT NULL ,
	Fname  VARCHAR(20) ,
	Lname  VARCHAR(20) ,
	CenterID  INT  NOT NULL ,
	DocSsn  CHAR(11)  NOT NULL ,
	Sex CHAR(1) ,
	VisitDate date ,
	PRIMARY KEY (Ssn) ,
	FOREIGN KEY (CenterID) REFERENCES HEALTHCENTER_SYSTEM.HEALTHCENTER(CenterID),
	FOREIGN KEY (DocSsn) REFERENCES HEALTHCENTER_SYSTEM.DOCTOR(DocSsn)
);


CREATE TABLE HEALTHCENTER_SYSTEM.ILLNESS
(
	Illnessname  VARCHAR(30)  NOT NULL ,
	Severity  INT ,
	DocSsn  CHAR(11)  NOT NULL ,
	PRIMARY KEY (Illnessname) ,
	FOREIGN KEY (DocSsn) REFERENCES HEALTHCENTER_SYSTEM.DOCTOR(DocSsn)
);


CREATE TABLE HEALTHCENTER_SYSTEM.PATIENT_ILLNESS
(
	Illnessname  VARCHAR(20)  NOT NULL ,
	Ssn  CHAR(11)  NOT NULL ,
	FOREIGN KEY (Illnessname) REFERENCES HEALTHCENTER_SYSTEM.ILLNESS(Illnessname) ,
	FOREIGN KEY (Ssn) REFERENCES HEALTHCENTER_SYSTEM.PATIENT(Ssn) ,
	PRIMARY KEY (Ssn, Illnessname)
);


CREATE TABLE HEALTHCENTER_SYSTEM.TREATMENT
(
	Illnessname  VARCHAR(20)  NOT NULL ,
	Medicine VARCHAR(30) ,
	PRIMARY KEY (Illnessname),
	FOREIGN KEY (Illnessname) REFERENCES HEALTHCENTER_SYSTEM.ILLNESS(Illnessname)
);


--DATA INSERTION
INSERT INTO HEALTHCENTER_SYSTEM.HEALTHCENTER
VALUES (1,'Maltepe, Güzaltan Sk. No:2, 06570 Çankaya/Ankara','Çankaya 1 Nolu Aile Sağlığı Merkezi')

INSERT INTO HEALTHCENTER_SYSTEM.HEALTHCENTER
VALUES (2,'Çukurambar, Öğretmenler Cd. no:6, 06510 Çankaya/Ankara','Çankaya Çukurambar Aile Sağlık Merkezi')

INSERT INTO HEALTHCENTER_SYSTEM.HEALTHCENTER
VALUES (3,'Ertuğrulgazi, Süngübayırı Sk., 06590 Çankaya/Ankara','Çankaya Şahin Asm')

--

INSERT INTO HEALTHCENTER_SYSTEM.DOCTOR
VALUES ('11112222001','Arzu','Çetin',1,'F');

INSERT INTO HEALTHCENTER_SYSTEM.DOCTOR
VALUES ('11112222002','Mehmet','Ovacık',2,'M');

INSERT INTO HEALTHCENTER_SYSTEM.DOCTOR
VALUES ('11112222003','Sevgi','Yılmaz',3,'F');

--

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT
VALUES ('11119999001','Barış','Akyol',1,'11112222001','M','2022-03-17');

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT
VALUES ('11119999002','Murat','Başaran',2,'11112222002','M','2022-07-27');

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT
VALUES ('11119999003','Selma','Deniz',3,'11112222003','F','2021-12-25');

--

INSERT INTO HEALTHCENTER_SYSTEM.ILLNESS
VALUES ('Karın ağrısı',6,'11112222001');

INSERT INTO HEALTHCENTER_SYSTEM.ILLNESS
VALUES ('Soğuk Algınlığı',4,'11112222002');

INSERT INTO HEALTHCENTER_SYSTEM.ILLNESS
VALUES ('Zatürre',NULL,'11112222003');

--

INSERT INTO HEALTHCENTER_SYSTEM.TREATMENT
VALUES ('Karın ağrısı','Parol',false);

INSERT INTO HEALTHCENTER_SYSTEM.TREATMENT
VALUES ('Soğuk Algınlığı','Dolven',false);

INSERT INTO HEALTHCENTER_SYSTEM.TREATMENT
VALUES ('Zatürre','Klacid',true);

--

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT_ILLNESS
VALUES ('Karın ağrısı','11119999001');

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT_ILLNESS
VALUES ('Soğuk Algınlığı','11119999002');

INSERT INTO HEALTHCENTER_SYSTEM.PATIENT_ILLNESS
VALUES ('Zatürre','11119999003');

---------

--SHOW TABLE
SELECT * FROM healthcenter_system.healthcenter
ORDER BY centerid ASC 

SELECT * FROM healthcenter_system.DOCTOR
ORDER BY centerid ASC 

SELECT * FROM healthcenter_system.PATIENT
ORDER BY centerid ASC 

SELECT * FROM healthcenter_system.ILLNESS
ORDER BY DocSsn ASC 

SELECT * FROM healthcenter_system.TREATMENT

SELECT * FROM healthcenter_system.PATIENT_ILLNESS

